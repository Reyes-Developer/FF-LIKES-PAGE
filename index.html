<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>iOS-style Player ID Sender</title>
  <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
  <style>
    :root {
      --primary: #007aff;
      --bg-glass: rgba(255, 255, 255, 0.12);
      --text-color: #111;
      --radius: 16px;
    }
    html, body {
      margin: 0; padding: 0; height: 100%;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      color: var(--text-color);
      background: url('your-background-image.jpg') center/cover no-repeat fixed;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
    }
    #particles-js {
      position: fixed;
      inset: 0;
      z-index: 0;
    }
    .card {
      position: relative;
      z-index: 2;
      background: var(--bg-glass);
      backdrop-filter: blur(10px) saturate(130%);
      border-radius: var(--radius);
      padding: 28px;
      max-width: 400px;
      width: 90vw;
      box-shadow: 0 8px 30px rgba(0,0,0,0.25);
      border: 1px solid rgba(255,255,255,0.4);
      text-align: center;
    }
    h1 {
      margin-bottom: 12px;
      font-weight: 600;
      font-size: 1.5rem;
    }
    input[type=text] {
      width: 100%;
      padding: 14px;
      border-radius: 12px;
      border: 1px solid #ccc;
      font-size: 1.1rem;
      outline: none;
      box-sizing: border-box;
      margin-bottom: 16px;
      background: transparent;
      color: var(--text-color);
    }
    input[type=text]::placeholder {
      color: #999;
    }
    button {
      width: 100%;
      padding: 14px;
      font-size: 1.1rem;
      font-weight: 600;
      border-radius: 12px;
      border: none;
      background: var(--primary);
      color: white;
      cursor: pointer;
      box-shadow: 0 6px 18px rgba(0, 122, 255, 0.4);
      transition: background 0.3s ease;
    }
    button:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
    button:hover:not(:disabled) {
      background: #005fcc;
    }
    .status {
      margin-top: 16px;
      font-size: 1rem;
    }
    .status.error {
      color: #d64545;
    }
    .status.success {
      color: green;
    }
  </style>
</head>
<body>

<div id="particles-js"></div>

<div class="card" role="main" aria-label="Enviar Player ID a Telegram">
  <h1>Enviar Player ID</h1>
  <input type="text" id="playerId" placeholder="Ingresa tu Player ID" autocomplete="off" autocapitalize="off" />
  <button id="sendBtn">Enviar</button>
  <div id="status" class="status" aria-live="polite"></div>
</div>

<script>
  particlesJS('particles-js', {
    particles: {
      number: { value: 50 },
      color: { value: '#ffffff' },
      shape: { type: 'circle' },
      opacity: { value: 0.6 },
      size: { value: 3 },
      line_linked: { enable: true, distance: 120, color: '#ffffff', opacity: 0.08, width: 1 },
      move: { enable: true, speed: 1.5 }
    },
    interactivity: {
      detect_on: 'canvas',
      events: { onhover: { enable: true, mode: 'repulse' }, onclick: { enable: true, mode: 'push' } },
      modes: { repulse: { distance: 80 }, push: { particles_nb: 4 } }
    },
    retina_detect: true
  });

  const sendBtn = document.getElementById('sendBtn');
  const playerInput = document.getElementById('playerId');
  const status = document.getElementById('status');

  function validatePlayerId(id) {
    if (!id || id.trim().length < 3) return 'El Player ID debe tener al menos 3 caracteres.';
    if (id.trim().length > 64) return 'El Player ID es muy largo.';
    return null;
  }

  async function sendPlayerId(playerId) {
    status.textContent = 'Enviando...';
    status.className = 'status';
    sendBtn.disabled = true;
    try {
      const resp = await fetch('https://tu-backend.repl.co/send', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ playerId: playerId.trim() })
      });
      if (!resp.ok) throw new Error('Error en el servidor');
      const data = await resp.json();
      if (data.ok) {
        status.textContent = '¡Enviado con éxito! Gracias.';
        status.className = 'status success';
        playerInput.value = '';
      } else {
        throw new Error(data.error || 'Error desconocido');
      }
    } catch (e) {
      status.textContent = 'Error: ' + e.message;
      status.className = 'status error';
    } finally {
      sendBtn.disabled = false;
    }
  }

  sendBtn.addEventListener('click', () => {
    const playerId = playerInput.value;
    const error = validatePlayerId(playerId);
    if (error) {
      status.textContent = error;
      status.className = 'status error';
      return;
    }
    sendPlayerId(playerId);
  });

  playerInput.addEventListener('keydown', e => {
    if (e.key === 'Enter') sendBtn.click();
  });
</script>

</body>
</html>
